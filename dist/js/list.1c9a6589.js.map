{"version":3,"sources":["webpack:///./src/components/Modal.vue?db95","webpack:///./src/views/TicketList.vue?ec6f","webpack:///./src/components/TicketSummary.vue?32ee","webpack:///src/components/TicketSummary.vue","webpack:///./src/components/TicketSummary.vue?ee74","webpack:///./src/components/TicketSummary.vue","webpack:///./src/components/Modal.vue?a693","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?dfdd","webpack:///./src/components/Modal.vue","webpack:///src/views/TicketList.vue","webpack:///./src/views/TicketList.vue?3b04","webpack:///./src/views/TicketList.vue","webpack:///./src/components/TicketSummary.vue?b3d1","webpack:///./src/views/TicketList.vue?2ccc","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","filters","length","on","clearFilters","_e","_l","filter","key","type","_s","filterText","ticket","id","filterList","modalShow","selectedTicket","modalClose","staticRenderFns","gigtype","term_id","$event","name","style","backgroundImage","parseInt","date","$emit","title","artist","ticketPrice","venue","props","methods","filterVal","computed","price","ifArtist","ifVenue","component","_t","ticketHeading","ticketVenue","gigTitle","image_lg","ticketArtist","console","arrHead","join","components","TicketSummary","SemipolarSpinner","Modal","data","showModal","loadingState","created","getTicketsTotal","$store","dispatch","then","catch","mapState","mapGetters","loading","push","$","uncurryThis","IndexedObject","toIndexedObject","arrayMethodIsStrict","un$Join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","undefined"],"mappings":"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","file":"js/list.1c9a6589.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&id=acafadf4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Ticket Listing\")]),(this.loading)?_c('semipolar-spinner',{staticClass:\"spinner\",attrs:{\"animation-duration\":2000,\"size\":255,\"color\":'orange'}}):_c('div',[_c('div',{staticClass:\"filterlist\"},[(this.filters.length > 0)?_c('div',{staticClass:\"clear\"},[_c('div',{staticClass:\"clear\",on:{\"click\":_vm.clearFilters}},[_vm._v(\"Clear\")])]):_vm._e(),_vm._l((this.filters),function(filter){return _c('div',{key:filter.type},[_c('div',[_vm._v(_vm._s(filter.type)+\" : \"+_vm._s(filter.filterText))])])})],2),_c('div',{staticClass:\"ticketlist\"},_vm._l((_vm.filteredTickets),function(ticket){return _c('TicketSummary',{key:ticket.id,attrs:{\"ticket\":ticket},on:{\"filterList\":_vm.filterList,\"showModal\":_vm.modalShow}})}),1),_c('transition',{attrs:{\"name\":\"modal\"}},[(_vm.showModal)?_c('Modal',{attrs:{\"ticket\":_vm.selectedTicket},on:{\"modalClose\":_vm.modalClose}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ticket -shadow\"},[_vm._l((_vm.ticket.gigtype),function(gigtype){return _c('div',{key:gigtype.term_id,staticClass:\"gigtype\"},[_c('div',{on:{\"click\":function($event){return _vm.filterList('gigtype', gigtype.term_id, gigtype.name)}}},[_vm._v(\" \"+_vm._s(gigtype.name)+\" \")])])}),_c('div',{staticClass:\"ticketbody\",style:({ backgroundImage: (\"url(\" + (_vm.ticket.image_sml) + \")\") })},[_c('div',{staticClass:\"overlay\"},[_c('div',{staticClass:\"date\",on:{\"click\":function($event){_vm.filterList('date', parseInt(_vm.ticket.date), parseInt(_vm.ticket.date))}}},[_vm._v(\" \"+_vm._s(_vm.ticket.date)+\" \")]),_c('div',{staticClass:\"title\"},[_c('button',{attrs:{\"id\":\"show-modal\"},on:{\"click\":function($event){return _vm.$emit('showModal', _vm.ticket)}}},[_vm._v(_vm._s(_vm.ticket.title))])]),(_vm.ifArtist)?_c('div',{key:_vm.ticket.artist[0].term_id,staticClass:\"artist\"},[_c('div',{on:{\"click\":function($event){return _vm.filterList(\n              'artist',\n              _vm.ticket.artist[0].term_id,\n              _vm.ticket.artist[0].name\n            )}}},[_vm._v(\" \"+_vm._s(_vm.ticket.artist[0].name)+\" \")])]):_vm._e(),_c('div',{staticClass:\"details\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.ticketPrice))]),(_vm.ifVenue)?_c('span',{key:_vm.ticket.venue[0].term_id,staticClass:\"venue\"},[_c('span',{on:{\"click\":function($event){return _vm.filterList(\n                'venue',\n                _vm.ticket.venue[0].term_id,\n                _vm.ticket.venue[0].name\n              )}}},[_vm._v(\" \"+_vm._s(_vm.ticket.venue[0].name))])]):_vm._e()])])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ticket -shadow\">\n    <div\n      class=\"gigtype\"\n      v-for=\"gigtype in ticket.gigtype\"\n      :key=\"gigtype.term_id\"\n    >\n      <div @click=\"filterList('gigtype', gigtype.term_id, gigtype.name)\">\n        {{ gigtype.name }}\n      </div>\n    </div>\n    <div\n      class=\"ticketbody\"\n      :style=\"{ backgroundImage: `url(${ticket.image_sml})` }\"\n    >\n      <div class=\"overlay\">\n        <div\n          class=\"date\"\n          @click=\"\n            filterList('date', parseInt(ticket.date), parseInt(ticket.date))\n          \"\n        >\n          {{ ticket.date }}\n        </div>\n        <div class=\"title\">\n          <button id=\"show-modal\" @click=\"$emit('showModal', ticket)\">{{ ticket.title }}</button>\n\n          <!-- <router-link\n            class=\"ticket-link\"\n            :to=\"{\n              name: 'ticket-show',\n              params: {\n                ticket: ticket,\n                id: ticket.id,\n              },\n            }\"\n          > -->\n        </div>\n        <div v-if=\"ifArtist\" class=\"artist\" :key=\"ticket.artist[0].term_id\">\n          <div\n            @click=\"\n              filterList(\n                'artist',\n                ticket.artist[0].term_id,\n                ticket.artist[0].name\n              )\n            \"\n          >\n            {{ ticket.artist[0].name }}\n          </div>\n        </div>\n        <div class=\"details\">\n          <span class=\"price\">{{ ticketPrice }}</span>\n          <span v-if=\"ifVenue\" class=\"venue\" :key=\"ticket.venue[0].term_id\">\n            <span\n              @click=\"\n                filterList(\n                  'venue',\n                  ticket.venue[0].term_id,\n                  ticket.venue[0].name\n                )\n              \"\n            >\n              {{ ticket.venue[0].name }}</span\n            ></span\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    ticket: Object,\n  },\n  methods: {\n    filterList(type, filterVal, filterText) {\n      this.$emit(\"filterList\", { type, filterVal, filterText });\n    },\n  },\n  computed: {\n    ticketPrice: function() {\n      if (this.ticket.price > 0) {\n        return \"£\" + this.ticket.price;\n      } else {\n        return \"Free\";\n      }\n    },\n    ifArtist: function() {\n      if (this.ticket.artist) {\n        return true;\n      }\n      return false;\n    },\n    ifVenue: function() {\n      if (this.ticket.venue) {\n        return true;\n      }\n      return false;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.ticket {\n  padding-bottom: 20px;\n  padding-right: 20px;\n  margin-bottom: 24px;\n  transition: all 0.2s linear;\n  cursor: pointer;\n  width: 400px;\n  display: flex;\n  position: relative;\n}\n\n.ticketbody:hover {\n  transform: scale(1.01);\n  box-shadow: 0 3px 12px 0 rgba(0, 0, 0, 0.2), 0 1px 15px 0 rgba(0, 0, 0, 0.19);\n}\n\n.ticket-link {\n  color: white;\n  text-decoration: none;\n}\n\n.gigtype {\n  display: inline-block;\n  font-size: 0.8em;\n  color: black;\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  writing-mode: vertical-rl;\n  position: relative;\n  left: 0;\n  padding-right: 1em;\n}\n\n.ticketbody {\n  display: inline-block;\n  position: relative;\n  width: 100%;\n}\n\n.ticketbody img {\n  width: 100%;\n}\n\n.overlay {\n  background: rgb(0, 0, 0);\n  background: rgba(0, 0, 0, 0.5); /* Black see-through */\n  color: #f1f1f1;\n  width: 100%;\n  transition: 0.5s ease;\n  opacity: 1;\n  text-align: center;\n  height: 100%;\n}\n\n.details {\n  padding-bottom: 10px;\n}\n\n.date {\n  font-size: 1em;\n  padding-top: 10px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n.title {\n  font-size: 1.6em;\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n.artist {\n  font-size: 1.2em;\n  padding-bottom: 10px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.price,\n.venue {\n  font-size: 0.9em;\n  margin: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketSummary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketSummary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TicketSummary.vue?vue&type=template&id=38cb1254&scoped=true&\"\nimport script from \"./TicketSummary.vue?vue&type=script&lang=js&\"\nexport * from \"./TicketSummary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TicketSummary.vue?vue&type=style&index=0&id=38cb1254&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38cb1254\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\"},[_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"modal-default-button\",on:{\"click\":function($event){return _vm.$emit('modalClose')}}},[_vm._v(\" X \")]),_vm._t(\"header\",function(){return [_c('div',[_vm._v(_vm._s(_vm.ticketHeading))]),(_vm.ticketVenue)?_c('div',[_vm._v(_vm._s(_vm.ticketVenue))]):_vm._e()]})],2),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"body\",function(){return [(_vm.gigTitle)?_c('div',{staticClass:\"gigtitle\"},[_vm._v(_vm._s(_vm.gigTitle))]):_vm._e(),(_vm.ticket.image_lg)?_c('div',[_c('img',{staticClass:\"ticketimage\",attrs:{\"src\":_vm.ticket.image_lg}})]):_vm._e()]})],2),_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\")],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- template for the modal component -->\n<template>\n    <div class=\"modal-mask\">\n      <div class=\"modal-wrapper\">\n        <div class=\"modal-container\">\n\n          <div class=\"modal-header\">\n            <button class=\"modal-default-button\" @click=\"$emit('modalClose')\">\n              X\n            </button>\n            <slot name=\"header\">\n              <div>{{ ticketHeading }}</div>\n              <div v-if=\"ticketVenue\">{{ ticketVenue }}</div>\n            </slot>\n          </div>\n\n          <div class=\"modal-body\">\n            <slot name=\"body\">\n              <div class=\"gigtitle\" v-if=\"gigTitle\">{{ gigTitle }}</div>\n              <div v-if=\"ticket.image_lg\"><img class=\"ticketimage\" :src=\"ticket.image_lg\" /></div>\n            </slot>\n          </div>\n\n          <div class=\"modal-footer\">\n            <slot name=\"footer\">\n            </slot>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n  props: {\n    ticket: Object\n  },\n  computed: {\n    ticketArtist() {\n      return (this.ticket.artist?.count > 0 ? this.ticket.artist[0].name : '');\n    },\n    ticketHeading() {\n      let arrHead = [];\n      console.log(this.ticket);\n      if (this.ticket.date) {\n        arrHead.push(this.ticket.date);\n      }\n      if (this.ticket.artist != null) {\n        arrHead.push(this.ticket.artist[0].name);\n      }\n      if (this.ticket.price) {\n        arrHead.push('£' + this.ticket.price);\n      }\n\n      return arrHead.join(' - ');\n    },\n    ticketVenue() {\n      return (this.ticket.venue != null ? this.ticket.venue[0].name : null);\n    },\n    gigTitle() {\n      if (!this.ticket.artist || (this.ticket.title != this.ticket.artist[0].name)) {\n        return this.ticket.title;\n      }\n      return null;\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: table;\n}\n\n.modal-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.modal-container {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 20px 30px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n  font-family: Helvetica, Arial, sans-serif;\n  max-height: calc(100vh - 100px);\n  overflow-y: auto;\n}\n\n.ticketimage {\n  width: 90%;\n  padding-top: 1em;\n}\n\n.modal-header h3 {\n  margin-top: 0;\n  color: #42b983;\n}\n\n.modal-body {\n  margin: 20px 0;\n}\n\n.modal-default-button {\n  display: inline;\n  float: left;\n}\n\n.gigtitle {\n  font-size: 2em;\n  font-weight: bolder;\n}\n\n/*\n * The following styles are auto-applied to elements with\n * transition=\"modal\" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the modal transition by editing\n * these styles.\n */\n\n.modal-enter-active,\n.modal-leave-active {\n  transition: opacity 0.5s ease;\n}\n\n.modal-enter-from,\n.modal-leave-to {\n  opacity: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=acafadf4&scoped=true&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&id=acafadf4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"acafadf4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1>Ticket Listing</h1>\n    <semipolar-spinner\n      v-if=\"this.loading\"\n      class=\"spinner\"\n      :animation-duration=\"2000\"      \n      :size=\"255\"\n      :color=\"'orange'\"\n    />\n    <div v-else>\n      <div class=\"filterlist\">\n        <div v-if=\"this.filters.length > 0\" class=\"clear\">\n          <div @click=\"clearFilters\" class=\"clear\">Clear</div>\n        </div>\n        <div v-for=\"filter in this.filters\" :key=\"filter.type\">\n          <div>{{ filter.type }} : {{ filter.filterText }}</div>\n        </div>\n      </div>\n      <div class=\"ticketlist\">\n        <TicketSummary\n          v-for=\"ticket in filteredTickets\"\n          :key=\"ticket.id\"\n          :ticket=\"ticket\"\n          @filterList=\"filterList\"\n          @showModal=\"modalShow\"\n        />\n      </div>\n      <!-- use the modal component, pass in the prop -->\n      <transition name=\"modal\">\n      <Modal v-if=\"showModal\"\n        :ticket=\"selectedTicket\"\n        @modalClose=\"modalClose\"\n      />\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TicketSummary from \"@/components/TicketSummary.vue\";\nimport { mapState, mapGetters } from \"vuex\";\nimport Modal from \"@/components/Modal.vue\";\nimport {SemipolarSpinner} from 'epic-spinners'\n\nexport default {\n  name: \"ticket-list\",\n  components: {\n    TicketSummary,\n    SemipolarSpinner,\n    Modal,\n  },\n  data() {\n    return {\n      filters: [],\n      showModal: false,\n      selectedTicket: {},\n      loadingState: true\n    };\n  },\n  created() {\n    if (!this.getTicketsTotal) {\n      this.$store.dispatch(\"fetchTicketData\").then(() => {\n        this.loadingState = false;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    } else {\n      this.loadingState = false;\n    }\n  },\n  computed: {\n    ...mapState([\"tickets\", \"ticket\", \"loading\", \"filteredTickets\"]),\n    ...mapGetters([\"getTicketsTotal\", \"getTicketsByGigType\"]),\n    loading() {\n      return this.loadingState;\n    }\n  },\n  methods: {\n    filterList(filter) {\n      this.filters.push(filter);\n      this.$store.dispatch(\"setFilteredTicketList\", filter);\n    },\n    clearFilters() {\n      this.$store.dispatch(\"clearFilters\");\n      this.filters = [];\n    },\n    modalShow(ticket) {\n      this.selectedTicket = ticket;\n      this.showModal=true;\n    },\n    modalClose() {\n      this.showModal=false;\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.filterlist {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n\n  div {\n    background-color: #999999; /* Green */\n    border: none;\n    color: white;\n    padding: 5px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n    margin: 4px 2px;\n    cursor: pointer;\n    border-radius: 12px;\n  }\n\n  .clear {\n    background-color: #4caf50; /* Green */\n  }\n}\n.ticketlist {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.spinner {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TicketList.vue?vue&type=template&id=83a6a614&scoped=true&\"\nimport script from \"./TicketList.vue?vue&type=script&lang=js&\"\nexport * from \"./TicketList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TicketList.vue?vue&type=style&index=0&id=83a6a614&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"83a6a614\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketSummary.vue?vue&type=style&index=0&id=38cb1254&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TicketList.vue?vue&type=style&index=0&id=83a6a614&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar un$Join = uncurryThis([].join);\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return un$Join(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}